name: LINE Payment Reminder

# ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
on:
  schedule:
    # ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤ 02:00 UTC (09:00 ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢)
    - cron: '0 2 * * *'
    # ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤ 08:00 UTC (15:00 ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢) 
    - cron: '0 8 * * *'
    # ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤ 14:00 UTC (21:00 ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢)
    - cron: '0 14 * * *'
    # ‡∏ó‡∏î‡∏•‡∏≠‡∏á
    - cron: '0 6 * * *'
    - cron: '15 6 * * *'
  
  # ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
  workflow_dispatch:

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    
    steps:
    - name: üì• Checkout repository
      uses: actions/checkout@v4
      
    - name: üêç Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.13'
        
    - name: üì¶ Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install line-bot-sdk python-dotenv
        
    - name: üì± Send LINE reminder
      env:
        CHANNEL_ACCESS_TOKEN: ${{ secrets.CHANNEL_ACCESS_TOKEN }}
        USER_ID: ${{ secrets.USER_ID }}
      run: |
        echo "üöÄ Starting LINE reminder job..."
        python push_message.py
        echo "‚úÖ LINE reminder job completed!"
